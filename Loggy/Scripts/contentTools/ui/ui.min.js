(function(){var t={}.hasOwnProperty,n=function(n,i){function u(){this.constructor=n}for(var r in i)t.call(i,r)&&(n[r]=i[r]);return u.prototype=i.prototype,n.prototype=new u,n.__super__=i.prototype,n};ContentTools.ComponentUI=function(){function n(){this._bindings={};this._parent=null;this._children=[];this._domElement=null}return n.prototype.children=function(){return this._children.slice()},n.prototype.domElement=function(){return this._domElement},n.prototype.isMounted=function(){return this._domElement!==null},n.prototype.parent=function(){return this._parent},n.prototype.attach=function(n,t){return n.parent()&&n.parent().detach(n),n._parent=this,t!==void 0?this._children.splice(t,0,n):this._children.push(n)},n.prototype.addCSSClass=function(n){if(this.isMounted())return ContentEdit.addCSSClass(this._domElement,n)},n.prototype.detach=function(n){var t;if(t=this._children.indexOf(n),t!==-1)return this._children.splice(t,1)},n.prototype.detatch=function(n){return console.log("Please call detach, detatch will be removed in release 1.4.x"),this.detach(n)},n.prototype.mount=function(){},n.prototype.removeCSSClass=function(n){if(this.isMounted())return ContentEdit.removeCSSClass(this._domElement,n)},n.prototype.unmount=function(){if(this.isMounted())return this._removeDOMEventListeners(),this._domElement.parentNode&&this._domElement.parentNode.removeChild(this._domElement),this._domElement=null},n.prototype.addEventListener=function(n,t){this._bindings[n]===void 0&&(this._bindings[n]=[]);this._bindings[n].push(t)},n.prototype.createEvent=function(n,t){return new ContentTools.Event(n,t)},n.prototype.dispatchEvent=function(n){var i,t,u,r;if(!this._bindings[n.name()])return!n.defaultPrevented();for(r=this._bindings[n.name()],t=0,u=r.length;t<u;t++){if(i=r[t],n.propagationStopped())break;i&&i.call(this,n)}return!n.defaultPrevented()},n.prototype.removeEventListener=function(n,t){var i,e,u,o,f,r;if(!n){this._bindings={};return}if(!t){this._bindings[n]=void 0;return}if(this._bindings[n]){for(f=this._bindings[n],r=[],i=u=0,o=f.length;u<o;i=++u)e=f[i],e===t?r.push(this._bindings[n].splice(i,1)):r.push(void 0);return r}},n.prototype._addDOMEventListeners=function(){},n.prototype._removeDOMEventListeners=function(){},n.createDiv=function(n,t,i){var r,u,f;if(r=document.createElement("div"),n&&n.length>0&&r.setAttribute("class",n.join(" ")),t)for(u in t)f=t[u],r.setAttribute(u,f);return i&&(r.innerHTML=i),r},n}();ContentTools.WidgetUI=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.attach=function(n,t){return i.__super__.attach.call(this,n,t),this.isMounted()?void 0:n.mount()},i.prototype.detach=function(n){return i.__super__.detach.call(this,n),this.isMounted()?n.unmount():void 0},i.prototype.detatch=function(n){return console.log("Please call detach, detatch will be removed in release 1.4.x"),this.detach(n)},i.prototype.show=function(){var n;return this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=null,this.unmount()),this.isMounted()||this.mount(),n=function(n){return function(){return n.addCSSClass("ct-widget--active"),n._showTimeout=null}}(this),this._showTimeout=setTimeout(n,100)},i.prototype.hide=function(){var n;return this._showTimeout&&(clearTimeout(this._showTimeout),this._showTimeout=null),this.removeCSSClass("ct-widget--active"),n=function(t){return function(){if(t._hideTimeout=null,!window.getComputedStyle){t.unmount();return}return parseFloat(window.getComputedStyle(t._domElement).opacity)<.01?t.unmount():t._hideTimeout=setTimeout(n,250)}}(this),this.isMounted()?this._hideTimeout=setTimeout(n,250):void 0},i}(ContentTools.ComponentUI);ContentTools.AnchoredComponentUI=function(t){function i(){return i.__super__.constructor.apply(this,arguments)}return n(i,t),i.prototype.mount=function(n,t){return t==null&&(t=null),n.insertBefore(this._domElement,t),this._addDOMEventListeners()},i}(ContentTools.ComponentUI)}).call(this);