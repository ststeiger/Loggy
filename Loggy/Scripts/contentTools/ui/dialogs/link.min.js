(function(){var n={}.hasOwnProperty,t=function(t,i){function u(){this.constructor=t}for(var r in i)n.call(i,r)&&(t[r]=i[r]);return u.prototype=i.prototype,t.prototype=new u,t.__super__=i.prototype,t};ContentTools.LinkDialog=function(n){function i(n,t){n==null&&(n="");t==null&&(t="");i.__super__.constructor.call(this);this._href=n;this._target=t}var r;return t(i,n),r="_blank",i.prototype.mount=function(){return i.__super__.mount.call(this),this._domInput=document.createElement("input"),this._domInput.setAttribute("class","ct-anchored-dialog__input"),this._domInput.setAttribute("name","href"),this._domInput.setAttribute("placeholder",ContentEdit._("Enter a link")+"..."),this._domInput.setAttribute("type","text"),this._domInput.setAttribute("value",this._href),this._domElement.appendChild(this._domInput),this._domTargetButton=this.constructor.createDiv(["ct-anchored-dialog__target-button"]),this._domElement.appendChild(this._domTargetButton),this._target===r&&ContentEdit.addCSSClass(this._domTargetButton,"ct-anchored-dialog__target-button--active"),this._domButton=this.constructor.createDiv(["ct-anchored-dialog__button"]),this._domElement.appendChild(this._domButton),this._addDOMEventListeners()},i.prototype.save=function(){var n;if(!this.isMounted()){this.dispatchEvent(this.createEvent("save"));return}return n={href:this._domInput.value.trim()},this._target&&(n.target=this._target),this.dispatchEvent(this.createEvent("save",n))},i.prototype.show=function(){return i.__super__.show.call(this),this._domInput.focus(),this._href?this._domInput.select():void 0},i.prototype.unmount=function(){return this.isMounted()&&this._domInput.blur(),i.__super__.unmount.call(this),this._domButton=null,this._domInput=null},i.prototype._addDOMEventListeners=function(){return this._domInput.addEventListener("keypress",function(n){return function(t){if(t.keyCode===13)return n.save()}}(this)),this._domTargetButton.addEventListener("click",function(n){return function(t){return t.preventDefault(),n._target===r?(n._target="",ContentEdit.removeCSSClass(n._domTargetButton,"ct-anchored-dialog__target-button--active")):(n._target=r,ContentEdit.addCSSClass(n._domTargetButton,"ct-anchored-dialog__target-button--active"))}}(this)),this._domButton.addEventListener("click",function(n){return function(t){return t.preventDefault(),n.save()}}(this))},i}(ContentTools.AnchoredDialogUI)}).call(this);